---
description: drizzle db
globs: packages/db/*
---
## Drizzle ORM Guidelines

1. **Schema Definition**
   - Define schemas in separate files under `packages/db`
   - Use TypeScript's inference for type safety
2. **Query Functions**
   - Write pure query functions
   - Return Result/Either types for error handling
   - Keep database operations isolated
3. **Migrations**
   - Keep migrations pure and idempotent
   - One logical change per migration
   - Include both up and down migrations
4. **Best Practices**
   - Use prepared statements for queries
   - Leverage transactions for atomic operations
   - Keep database logic separate from business logic
